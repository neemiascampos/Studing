CREATE DATABASE ROSAA2;
USE ROSAA2;
/* Em MySQL */

/* AVD 1*/
CREATE TABLE FABRICANTE(
	FAB_NOME VARCHAR(30) NOT NULL,
	FAB_END VARCHAR(60) NOT NULL,
	FAB_FONE VARCHAR(12) NOT NULL,
	FAB_CNPJ VARCHAR(20) NOT NULL,
	FAB_ID INTEGER(5) NOT NULL,
	PRIMARY KEY (FAB_ID)
);

CREATE TABLE PRODUTO(
	PROD_NOME VARCHAR(30) NOT NULL,
	PROD_PRECO DECIMAL(6,2) NOT NULL,
	FAB_ID INTEGER(5) NOT NULL,
	PROD_ID INTEGER(5) NOT NULL,
	PRIMARY KEY (PROD_ID),
	FOREIGN KEY (FAB_ID) REFERENCES FABRICANTE(FAB_ID)
);

CREATE TABLE ESTOQUE(
	EST_PROD_QTDE INTEGER(3),
	PROD_ID INTEGER(5) NOT NULL,
	FOREIGN KEY (PROD_ID) REFERENCES PRODUTO(PROD_ID)
);

/* AVD 2*/
INSERT INTO FABRICANTE VALUES
	('Bauducco', 'Rua Endres, 930', '2573-9492', '49.033.004/0018-03', 1),
	('Vigor', 'Rua Joaquim Carlos            , 396', '2799-5759', '61.116.331/0001-86', 2),
	('Adria', 'Rua São Francisco, 531', '3883-9100', '51.423.747/0010-84', 3),
	('Nestle', 'Avenida Doutor Chucri Zaidan, 246', '5508-4400', '60.409.075/0001-52', 4);
INSERT INTO PRODUTO VALUES
	('Torrada Light 160g', 2.50, 1, 1),
	('Colomba Pascoal 500g', 7.50, 2, 1),
	('Bolo de Laranja 220g', 4.00, 3, 1),
	('Lasanha 200g', '3.00', 4, 3),
	('Macarrão com Ovos 500g', 3.90, 5, 3),
	('Chokito 32g', 1.60, 6, 4),
	('Iogurte Grego 105g', 1.80, 7, 4),
	('Creme de Leite Light290g', 4.00, 8, 4);
INSERT INTO ESTOQUE VALUES
	(200,1),
	(328,2),
	(289,3),
	(403,4),
	(459,5),
	(591,6),
	(90,7),
	(209,8);

/* AVD 3*/	
SELECT * FROM FABRICANTE;
SELECT * FROM PRODUTO;
SELECT * FROM ESTOQUE;

/* AVD 4*/
SELECT FAB_NOME, FAB_CNPJ FROM FABRICANTE;

/* AVD 5*/
SELECT PROD_NOME FROM PRODUTO WHERE FAB_ID=4;

/* AVD 6*/
SELECT PROD_NOME FROM PRODUTO WHERE PROD_PRECO>3;

/* AVD 7*/
SELECT EST_PROD_QTDE FROM ESTOQUE WHERE PROD_ID=4;

/* AVD 8*/
SELECT PROD_PRECO FROM PRODUTO WHERE PROD_ID=2 OR PROD_ID=5 OR PROD_ID=6;

/* AVD 9*/
SELECT PROD_NOME FROM PRODUTO WHERE PROD_PRECO<5 AND FAB_ID=1;

/* AVD 10*/
UPDATE PRODUTO SET PROD_PRECO=2.30 WHERE PROD_ID=1;
UPDATE PRODUTO SET PROD_PRECO=2.80 WHERE PROD_ID=3;
UPDATE PRODUTO SET PROD_PRECO=3.85 WHERE PROD_ID=8;

/* AVD 11*/
UPDATE ESTOQUE SET EST_PROD_QTDE=285 WHERE PROD_ID=4;

/* AVD 12*/
UPDATE FABRICANTE SET FAB_FONE='4223-5319' WHERE FAB_ID=2;

/* AVD 13*/
/*ALTER TABLE ESTOQUE CHANGES EST_PROD_QTDE QUANTIDADE INTEGER(5); */

/* AVD 14*/
ALTER TABLE FABRICANTE ADD FAB_UF CHAR(2);

/* AVD 15*/
UPDATE FABRICANTE SET FAB_UF="SP";

	